<?xml version="1.0" encoding="UTF-8" ?>
<!-- MyBatis ì „ìš© ë¬¸ì„œë¼ëŠ” ê±¸ ì•Œë ¤ì£¼ëŠ” ì„ ì–¸ (ì •í•´ì§„ í‹€ì´ë¼ê³  ìƒê°í•˜ë©´ ë¼ìš”) -->
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- ì´ mapperëŠ” ì–´ë–¤ ìë°” ì¸í„°í˜ì´ìŠ¤ì™€ ì—°ê²°ë˜ëŠ”ì§€ ì•Œë ¤ì¤˜ìš” -->
<!-- namespaceëŠ” BookmarkMapper.javaì˜ ì „ì²´ ê²½ë¡œë‘ ì™„ì „íˆ ë˜‘ê°™ì•„ì•¼ í•¨ -->
<mapper namespace="org.example.searchbookmark.model.mapper.BookmarkMapper">

    <!-- ê°€ì¥ ë§ˆì§€ë§‰ìœ¼ë¡œ ì €ì¥ëœ ë¶ë§ˆí¬ì˜ ID í•œ ê°œ ê°€ì ¸ì˜¤ê¸° -->
    <!--id: ìë°”ì—ì„œ mapper.checkLastID()ë¡œ ì—°ê²°-->
    <!--resultType: ê²°ê³¼ê°€ ë¬¸ìì—´ í•˜ë‚˜ë‹ˆê¹Œ Stringìœ¼ë¡œ ë°›ê² ë‹¤ëŠ” ì˜ë¯¸-->
    <select id="checkLastID" resultType="String">
        SELECT bookmark_id FROM search_result_bookmark
        ORDER BY created_at DESC LIMIT 1
    </select>
    
    <!-- ë¶ë§ˆí¬ í•˜ë‚˜ë¥¼ DBì— ì €ì¥í•˜ëŠ” SQL -->
    <!--id: ìë°”ì—ì„œ mapper.insertBookmark(keywordSearch)ë¡œ ì‹¤í–‰ë¨-->
    <!--parameterType: ìë°”ì—ì„œ ë„˜ê¸¸ ê°ì²´ì˜ íƒ€ì…. KeywordSearch í•„ë“œë‘ ì´ë¦„ ë§ì¶°ì•¼ í•¨-->
    <!--#{title}: ìë°” ê°ì²´ ì•ˆì— ìˆëŠ” í•„ë“œê°’ êº¼ë‚´ ì“°ëŠ” ë¬¸ë²•-->
    <insert id="insertBookmark" parameterType="org.example.searchbookmark.model.vo.KeywordSearch">
        INSERT INTO search_result_bookmark (title, link, description, date) values (#{title}, #{link}, #{description}, #{date})
    </insert>
    
    <!-- SELECT ê²°ê³¼ë¥¼ ìë°” ê°ì²´(KeywordSearch)ë¡œ ë§Œë“¤ê¸° ìœ„í•œ ê·œì¹™ -->
    <resultMap id="BookmarkMap" type="org.example.searchbookmark.model.vo.KeywordSearch">
        <constructor>
             <!-- ìƒì„±ìì— ê°’ì„ ì–´ë–»ê²Œ ë„£ì„ì§€ í•˜ë‚˜í•˜ë‚˜ ì§€ì • -->
            <arg column="bookmark_id" javaType="String" name="uuid" />
            <arg column="title" javaType="String" name="title" />
            <arg column="link" javaType="String" name="link" />
            <arg column="description" javaType="String" name="description" />
            <arg column="date" javaType="String" name="date" />
            <arg column="created_at" javaType="String" name="createdAt" />
        </constructor>
    </resultMap>
    
    <!-- ë¶ë§ˆí¬ í•˜ë‚˜ë¥¼ uuidë¡œ ì¡°íšŒí•´ì„œ KeywordSearch ê°ì²´ë¡œ ë³€í™˜ -->
    <select id="getOneBookmark" resultMap="BookmarkMap" parameterType="String">
        SELECT * FROM search_result_bookmark
        WHERE bookmark_id = #{uuid}
    </select>
</mapper>

```
â— resultMapì€ SELECT í•  ë•Œë§Œ í•„ìš”í•´ìš”.
âŒ INSERT, UPDATE, DELETEëŠ” ê°ì²´ë¥¼ ë§Œë“¤ í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì— resultMapì´ í•„ìš” ì—†ì–´ìš”.
ğŸ§© SELECTëŠ” ê²°ê³¼ë¥¼ "ìë°” ê°ì²´"ë¡œ ë§Œë“¤ì–´ì„œ ëŒë ¤ì¤˜ì•¼ í•˜ê¸° ë•Œë¬¸ì´ì—ìš”.

âœ… ë°˜ë©´, INSERT/UPDATE/DELETEëŠ”?
ì´ê±´ DBì— ê°’ì„ ë„£ëŠ” ê²ƒì´ì£ .
ìë°” ê°ì²´ â†’ SQLë¡œ íŒŒë¼ë¯¸í„°ë§Œ ë„˜ê¸°ë©´ ëì´ì—ìš”.
ê°ì²´ë¥¼ ë‹¤ì‹œ ë§Œë“¤ í•„ìš”ê°€ ì—†ì–´ìš”.
ê·¸ë˜ì„œ resultMapì´ í•„ìš” âŒ
```
